<style>
  /* Auto-scale the iframe down on small phones while keeping layout exactly the same */
  :root { --iframe-scale: 1; }

  .frame {
    /* existing styles stay; add these lines to enable scaling */
    transform: scale(var(--iframe-scale));
    transform-origin: top left;
    /* expand the box so the scaled content still fills the screen */
    width: calc(100% / var(--iframe-scale));
    height: calc(100dvh / var(--iframe-scale));
  }

  /* Prevent odd text zooming on some Android builds (host page only) */
  html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
</style>

<script>
  (function () {
    // Target design width of the embedded page.
    // If your GAS is built around ~430â€“480px, 430 is a safe base.
    const BASE_WIDTH = 430;

    function fit() {
      const vw = Math.min(window.innerWidth, document.documentElement.clientWidth || window.innerWidth);
      // Only scale DOWN on narrow phones; never scale up
      const scale = Math.min(1, vw / BASE_WIDTH);
      document.documentElement.style.setProperty('--iframe-scale', scale.toFixed(4));
    }

    // Run on load + on resize/orientation
    document.addEventListener('DOMContentLoaded', fit, { passive: true });
    window.addEventListener('resize', fit, { passive: true });
    window.addEventListener('orientationchange', fit, { passive: true });
    fit();
  })();
</script>
